<section>
    <div class="mapSearchTools">
        <!-- input div for address -->
        <input type="text" id="manLocation" />

        <!-- get current location button -->
        <button ng-click="MapCtrl.currentLoc()"><span class="glyphicon glyphicon-screenshot" aria-hidden="true"></span></button>

        <!-- submit address button -->
        <!--<button ng-click="MapCtrl.manualLoc()">Find Breweries</button>-->
    </div>

    <!-- map div -->
    <div id="mapdum">
        <div id="map"></div>
    </div>

</section>


<article id="punchSection" ng-switch on="MapCtrl.punchStatus">

    <!-- all breweries section -->
    <section class="animate-switch" ng-switch-when="breweries">
        <h3>Nearby Breweries:</h3>
        <span>Select a brewery</span>
        <md-list flex class="mapSwitch">
            <!--<input ng-model="searchBrewery" placeholder="Search Breweries" />-->
            <md-list-item aria-label="" class="md-3-line" ng-repeat="brewery in MapCtrl.breweries" ng-click="MapCtrl.getSpecificBrewery($index)">
                <img src="http://{{brewery.breweryLogo}}" class="md-avatar" alt="{{brewery.breweryName}}" />
                <div class="md-list-item-text" layout="column">
                    <h3>{{ brewery.breweryName }}</h3>
                    <p>{{brewery.breweryAddress}}</p>
                    <p>{{brewery.breweryCity}}, {{brewery.breweryState}} {{brewery.breweryZip}}</p>
                </div>
                <md-divider></md-divider>
            </md-list-item>
        </md-list>
    </section>

    <!-- selected brewery beers -->
    <section class="animate-switch" ng-switch-when="selectBeer">
        <h3>Beers on Tap</h3>
        <span ng-click="MapCtrl.CloseConfirm()">Back to breweries</span>
        <md-list flex class="mapSwitch">
            <md-list-item aria-label="" class="md-3-line" ng-repeat="beer in MapCtrl.brewery.breweryBeers" ng-click="MapCtrl.confirmPunch(beer, MapCtrl.brewery)">
                <img src="http://{{beer.beerLogo}}" class="md-avatar" alt="{{beer.beerName}}" />
                <div class="md-list-item-text" layout="column">
                    <h4>{{beer.beerName}}</h4>
                    <p>{{beer.beerType}}</p>
                </div>
                <md-divider></md-divider>
            </md-list-item>
        </md-list>
    </section>

    <!-- add punch layout for specific beer -->
    <div id="confirmPunchPage" class="animate-switch" ng-switch-when="confirmation">
        <h3>Confirm Punch</h3>
        <section id="confirmPunchInfo">
            <img class="breweryBeerLogos" src="http://{{MapCtrl.punchInfo.beer.beerLogo}}" alt="{{MapCtrl.punchInfo.beer.beerName}}" />
            <h3>{{MapCtrl.punchInfo.beer.beerName}}</h3>
            <h5>{{MapCtrl.punchInfo.brewery.breweryName}}</h5>
        </section>
        <p ng-show="MapCtrl.confirming">Enter Brewery Pin</p>
        <md-input-container ng-show="MapCtrl.confirm">
            <label>Brewery Pin</label>
            <input ng-model="MapCtrl.pin" type="text" />
        </md-input-container>
        <h4 ng-show="MapCtrl.confirmed">Punch Added!</h4>
        <h4 ng-show="MapCtrl.confirmDeclined">Wrong Pin!</h4>
        <div>
            <md-button ng-show="MapCtrl.confirm" ng-click="MapCtrl.addPunch(MapCtrl.punchInfo.beer, MapCtrl.punchInfo.brewery)">Add Punch</md-button>
            <md-button ng-show="MapCtrl.confirm" ng-click="MapCtrl.CloseConfirm()">Cancel</md-button>
            <md-button ng-show="MapCtrl.confirmed" ng-click="MapCtrl.CloseConfirm()">Close</md-button>
        </div>

    </div>
</article>

<!-- bottom nav include -->
<div ng-include="'/Templates/bottomnav.html'"></div>

